<!DOCTYPE html>
<html lang="en">
<head>
  <title>Jitsi Meet: Performance tuning (70+ participants)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href=".assets/posts.css">
</head>
<body>
<article>

<h1>Jitsi Meet: Performance tuning (70+ participants)</h1>
<h5>Posted on: <time datetime="2020-05-12">12/05/2020</time></h5>

<p>
You installed your own Jitsi Meet instance (<a href="https://nerdonthestreet.com/episode/tech/host-a-jitsi-meet-server">like Jacob does here</a>) and now you realised there are performance issues when more than a handfull of people join the same room.
</p>

<p>
Bellow is a collection of configuration tweaks I found on the jitsi forum which will imporove the performance of the video conference (mainly on the client side)
</p>

<p>
Using this configuration I have successfully hosted a) a conference with 30 people with cameras/mics turned on and b) a conference with 75+ people durring which only 2-3 cameras where turned on at a given moment.

About 2-4 cores and 2-4GB of RAM did the job on the server.
</p>

<h2>
<a class="header-link" name="client-config" href="#client-config">#</a>
Client tweaks (jitsi-meet):
</h2>

<code><p class="title">/etc/jitsi/meet/your.domain-config.js</p>
// Disable features to lower CPU usage
disableAudioLevels: true,
enableNoAudioDetection: false,
enableNoisyMicDetection: false,

// Reduce bandwidth to lower both latency and CPU usage
enableLayerSuspension: true,
resolution: 360,
maxFps: 10,
constraints: {
  video: {
    frameRate: {
      max: 10,
      min: 5
    },
    height: {
      ideal: 360,
      max: 360,
      min: 120
    }
  }
},

// This is really to help the server if multiple people join at once
startAudioMuted: 1,
startVideoMuted: 1,
</code>

<code><p class="title">/usr/share/jitsi-meet/interface_config.js</p>
// Disable features to lower CPU usage
SET_FILMSTRIP_ENABLED: false,
DISABLE_VIDEO_BACKGROUND: true,

DISABLE_FOCUS_INDICATOR: true,
DISABLE_DOMINANT_SPEAKER_INDICATOR: true,

DISABLE_JOIN_LEAVE_NOTIFICATIONS: true,
</code>

<h2>
<a class="header-link" name="videobridge-logging" href="#videobridge-logging">#</a>
Server tweaks (jitsi-videobridge):
</h2>

<code><p class="title">/etc/jitsi/videobridge/logging.properties</p>
// Reduce the amount of log to lower disk I/O operations
.level=WARNING

java.util.logging.FileHandler.level = OFF
</code>

</article>
</body>
</html>
